$(function(){function e(e){e?a=setInterval(function(){$("#slideShowPics").find(".slide:first").fadeOut("slow",function(){$(this).next(".slide").fadeIn("slow").end().appendTo("#slideShowPics")})},7e3):clearInterval(a)}var t=$("body"),i=$("#flash");i.is(":visible")&&i.setRemoveTimeout(3e3);var s=new Gettext({domain:"messages"});$(".printTrigger").on("click",function(e){e.preventDefault(),window.print()});var n=$(".tabs span");n.each(function(){var e=$(this),t=e.attr("class").split(" ")[0].substr(4);e.hasClass("activeTab")?$("#"+t).show():$("#"+t).hide()}),n.on("click",function(){var e=$(this);if(!e.hasClass("activeTab")){var t=e.siblings(".activeTab").removeClass("activeTab");$("#"+t.attr("class").split(" ")[0].substr(4)).fadeOut("normal",function(){$("#"+e.attr("class").split(" ")[0].substr(4)).fadeIn()}),e.addClass("activeTab")}});var a=null;e(!0),$("#slideShowPics").find(".slide:gt(0)").hide(),$('span[class$="Toggle"]').on("click",function(){resetActiveField();var e=$(this).attr("class"),i=$("#"+e.substr(0,e.length-6));i.is(":visible")?(resetActiveField(),i.slideToggle("normal",function(){ofh=new $.fn.dataTable.FixedHeader(table)})):(i.slideToggle(),t.children(".fixedHeader").each(function(){$(this).remove()}))}),$("#slideLeft").on("click",function(){e(!1),$("#slideShowPics").find(".slide:first").fadeOut("slow",function(){$(this).siblings(".slide:last-of-type").fadeIn("slow").prependTo("#slideShowPics")}),e(!0)}),$("#slideRight").on("click",function(){e(!1),$("#slideShowPics").find(".slide:first").fadeOut("slow",function(){$(this).next(".slide").fadeIn("slow").end().appendTo("#slideShowPics")}),e(!0)});var l=!1,o=$("#categories").html();$(".search input").on("keyup",function(e){var t=$(this).val().trim().toLowerCase();delay(function(){if(e.preventDefault(),!l){l=!0;var i=$("#categories");0==t.length?i.html(o):t.length>1&&$.ajax({url:baseUrl+"/products/search/"+t,type:"GET"}).success(function(e){""!=$.trim(e)&&i.html(e)}).error(function(){addMessage(s.gettext("Something with wrong, please try again."))}),l=!1}},150)}),t.hasClass("productPage")&&$(".productAttributes tbody tr").on("click",function(){window.location=$(this).next("tr.productMeta").find("a").attr("href")})});